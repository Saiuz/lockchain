///////////////////////////////////////////////////////////////////////////////
// Register Factory
// Registers a new device on the blockchain
///////////////////////////////////////////////////////////////////////////////
// LD042 Advanced Web Engineering
// Andrew Hall 2016
///////////////////////////////////////////////////////////////////////////////
angular.module("LockChain").factory("RegisterFactory", function(){
	
	var contract = LockAPI.deployed();

	///////////////////////////////////////////////////////////////////////////
	// Register
	// Registers A New Device by calling web3 RPC Interface To Blockchain
	///////////////////////////////////////////////////////////////////////////
	var register = function(account, address, isLocked, callback){
		
		contract.Register(address, isLocked, {from:account})
		.then(function(response){
			callback(response);
		})
		.catch(function(e){
			console.log(e);
		});
	};

	return{
		register: register
	};

});
